/*
*	APF Branches
*
*	@package Advanced Property Framework
*	@version 1.0
*/

/* Find a branch */
section {
    &.find-a-branch {
        .map-container { width:100%; height:602px;}
        .branches { clear:both; margin:20px 0; padding:0;
            &.view-arranged { margin:0 10px; border-top:none;
                .branch { border-bottom:none;}
            }
        }

        .branches-tax { clear:both; margin:0 20px;}

        .branch { clear:both; overflow:hidden; padding:20px 0 40px; margin:20px 0; border-bottom:1px $lightgrey solid; display: flex; justify-content: space-between; flex-wrap: wrap;
            @include breakpoint(cousinbear) { flex-direction: column;}

            &:last-child { border-bottom:none;}

            h2 { font-size: 28px; color:$primary; line-height:28px; font-weight: 700; padding-bottom: 40px; margin:0; flex:1 0 100%; display: flex; justify-content: space-between; align-items: center;
                a { color:$primary;}
                span a { font-size:16px; color:$primary; padding-left:20px; text-transform:none; display: flex; align-items: center; font-weight: 700;
                    &:hover { color: $primary;}
                    i { color: $secondary; margin-left: 10px;}
                }
            }

            .branch-thumb { width:40%; padding-right: 20px;
                @include breakpoint(brotherbear) { width: 30%;}
                @include breakpoint(cousinbear) { width: 100%; margin-bottom: 20px;}

                a { display: block; overflow: hidden;}

                img { border-radius: 5px;}
            }

            .branch-details { width:60%; padding-left: 20px; display: flex; justify-content: space-between; flex:1 0 auto;
                @include breakpoint(cousinbear) { width: 100%; padding-left: 0;}
                @include breakpoint(sisterbear) { flex-direction: column;}

                h3 { font-size: 20px; color:$primary; line-height:28px; font-weight:normal; display: flex; justify-content: space-between; flex-wrap: wrap; margin-bottom: 15px; font-weight: 600;
                    span { flex:1 0 100%}
                    small { display:block; font-size:12px; padding: 5px 10px 2px; margin-top:2px; line-height:20px; text-transform: uppercase; color: #fff; font-weight: 700; border-radius: 3px;
						&.open { background:#6eba63;}
						&.about-to-close { background: #e89415;}
						&.closed { background: tomato;}
					}
                }

                p { font-size:17px; line-height:25px; padding:0 0 30px 0; color:$text; position:relative; margin:0; display: flex;
                    i { font-size: 22px; color: $secondary; margin-right: 10px;}
                    a { color:$text;
                        &:hover { color:$primary;}
                    }
                }

                .branch-address { width:percentage(1/2);
                    @include breakpoint(sisterbear) { width: 100%;}

                    .branch-dept__details { margin-bottom:10px;}
                }

                .branch-hours { width:percentage(1/2);
                    @include breakpoint(sisterbear) { width: 100%;}

                    ul {
                        li { display: flex; justify-content: space-between; align-items: center; padding: 12px 15px 9px; border-bottom: 1px $lightgrey solid;
                            span { 
                                &.times { color: $primary;}
                            }

                            &.today { background: $lightgrey; color: $primary; font-weight: 700; position: relative; border-bottom: none; border-radius: 3px;
                                &:after { content: ""; display: block; width: 4px; height: 100%; position: absolute; right: 0; top: 0; border-radius: 0 3px 3px 0}

                                &.open { background: lighten(#6eba63, 42%);
                                    &:after { background: #6eba63;}
                                }
    
                                &.closed { background: lighten(tomato, 35%);
                                    &:after { background: tomato;}
                                }
    
                                &.about-to-close { background: lighten(#e89415, 48%);
                                    &:after { background: #e89415;}
                                }
                            }
                        }
                    }
                }
            }

            .hours-table { overflow:hidden;}
        }

        /* Single branch */
        .branch-map { width:100%; height:323px;}
        .branch-details.single { width:auto;}
        .branch-details.single .branch-address { width:auto; float:none; border-bottom:1px #f0f0f0 solid; margin-bottom:20px;}
        .branch-details.single .branch-hours { width:auto; float:none; margin-bottom:20px;}

        .branch-members { padding-bottom:20px; }
        .branch-member { float:left; width:145px; margin:0 10px 10px 0;}
    }

    #branch_map { height:500px; margin-top:40px;
        @include breakpoint(mamabear) { height:300px;}
    }
}
