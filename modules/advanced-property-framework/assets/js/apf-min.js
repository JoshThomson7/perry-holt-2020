function createXmlHttpRequest(){try{if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");if(window.XMLHttpRequest)return new XMLHttpRequest}catch(e){changeStatus(e)}return null}function downloadUrl(e,a){var t=-1,o=createXmlHttpRequest();if(!o)return!1;o.onreadystatechange=function(){if(4==o.readyState){try{t=o.status}catch(e){}200!=t&&0!=t||(a(o.responseText,o.status),o.onreadystatechange=function(){})}},o.open("GET",e,!0);try{o.send(null)}catch(e){changeStatus(e)}}function xmlParse(e){if("undefined"!=typeof ActiveXObject&&"undefined"!=typeof GetObject){var a=new ActiveXObject("Microsoft.XMLDOM");return a.loadXML(e),a}return"undefined"!=typeof DOMParser?(new DOMParser).parseFromString(e,"text/xml"):createElement("div",null)}function downloadScript(e){var a=document.createElement("script");a.src=e,document.body.appendChild(a)}function apf_init_map(){var e=jQuery;if(e(".apf").length>0&&e("#map").length>0){var a=new google.maps.LatLng(50.710412,-1.301558),t=new google.maps.Map(document.getElementById("map"),{center:a,zoom:11,mapTypeId:"roadmap",mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.CENTER_BOTTOM},zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.TOP_LEFT},streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.TOP_LEFT},scrollwheel:!1}),o,p=[],n=new google.maps.InfoWindow,i=new google.maps.LatLngBounds,l=new google.maps.MarkerImage(the_hard_men_path+"/modules/advanced-property-framework/img/marker-property.png",null,null,null,new google.maps.Size(50,38)),s=new google.maps.MarkerImage(the_hard_men_path+"/modules/advanced-property-framework/img/marker-property-hover.png",null,null,null,new google.maps.Size(60,46)),r,_;function c(a,o,n,i){var r=n,_=new google.maps.Marker({position:a,icon:l,map:t,title:o});_.myname=o,_.myicon=i,p.push(_),google.maps.event.addListener(_,"click",(function(){for(var a=0;a<p.length;a++)p[a].setIcon(l);_.setIcon(s),e("#infowindow").addClass("open"),e("#infowindow").removeClass("closed empty"),e("#infowindow").empty(),e("#infowindow").append(n)}))}downloadUrl(apf_ajax_object.apf_properties_map_url,(function(e){for(var a,o=xmlParse(e).documentElement.getElementsByTagName("marker"),p=0;p<o.length;p++){var n=parseFloat(o[p].getAttribute("lat")),l=parseFloat(o[p].getAttribute("lng")),s=new google.maps.LatLng(n,l),r=o[p].getAttribute("permalink"),_=o[p].getAttribute("name"),d=o[p].getAttribute("price"),f=o[p].getAttribute("type"),m=o[p].getAttribute("status"),u=o[p].getAttribute("seo"),g,v='<div class="infowindow"><div class="infowindow__img"><a href="#" title="Close" class="infowindow-close"><i class="fal fa-times"></i></a><a href="'+r+'" title="Click for full details on '+_+'"><img src="'+o[p].getAttribute("image")+'" alt="'+_+'"></a></div><h3><a href="'+r+'" title="Click for full details on '+_+'">&pound;'+d+("to-let"==f?" <small>PW</small>":"")+"</a>"+(""!==m?"<span>"+m+"</span>":"")+'</h3><div class="infowindow__content"><h5>'+u+"</h5><p>"+_.replace(/,/g,"<br>")+'</p><p class="infowindow__content__name-mobile">'+_+'</p><a href="'+r+'" title="Click for full details on '+_+'" class="infowindow__fom">Full details</a></div></div>',w=c(s,_,v);i.extend(s)}t.fitBounds(i)})),google.maps.event.addDomListener(window,"resize",(function(){var e=t.getCenter();google.maps.event.trigger(t,"resize"),t.setCenter(e)})),google.maps.event.addListener(t,"click",(function(){for(var a=0;a<p.length;a++)p[a].setIcon(l);e("#infowindow").empty(),e("#infowindow").append('<p class="empty-text">Tap on a property to preview its details.</p>'),e("#infowindow").removeClass("open"),e("#infowindow").addClass("closed empty")})),e("#infowindow").on("click","a.infowindow-close",(function(a){a.preventDefault();for(var t=0;t<p.length;t++)p[t].setIcon(l);e("#infowindow").empty(),e("#infowindow").append('<p class="empty-text">Tap on a property to preview its details.</p>'),e("#infowindow").removeClass("open"),e("#infowindow").addClass("closed empty")})),(new google.maps.TransitLayer).setMap(t),google.maps.event.addListenerOnce(t,"idle",(function(){setTimeout((function(){e(".apf__properties article").hover((function(){var a=e(".apf__properties article").index(this);p[a].setIcon(s)}),(function(){var a=e(".apf__properties article").index(this);p[a].setIcon(l)}))}),2e3)})),e(window).width()<900&&t.setOptions({mapTypeControl:!1,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.RIGHT_TOP},streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP}})}}function apf_ajax(e){var a=jQuery;if(apf_new_request=!0,apf_page=1,e.hasClass("apf__search__button"))apf_type=a(".apf__search__buyrent input[type=radio]:checked").val(),apf_area_search=a(".apf__area__search").val(),apf_minprice=a(".apf__minprice option:selected").val(),apf_maxprice=a(".apf__maxprice option:selected").val(),apf_minbeds=a(".apf__minbeds option:selected").val(),apf_maxbeds=a(".apf__maxbeds option:selected").val();else{if(e.hasClass("apf__filter__grid"))return apf_new_request=!1,apf_view="grid",a(".apf__properties").removeClass("list"),a(".apf__filter__list").removeClass("active"),a(".apf__filter__grid").addClass("active"),void history.replaceState({id:"apf_url"},"","?type="+apf_type+"&area_search="+apf_area_search+"&minprice="+apf_minprice+"&maxprice="+apf_maxprice+"&minbeds="+apf_minbeds+"&maxbeds="+apf_maxbeds+"&view="+apf_view+"&order="+apf_order+"&apf_branch="+apf_branch+"&apf_status="+apf_status+"&apf_page="+apf_page+"&apf_search=go");if(e.hasClass("apf__filter__list"))return apf_new_request=!1,apf_view="list",a(".apf__properties").addClass("list"),a(".apf__filter__list").addClass("active"),a(".apf__filter__grid").removeClass("active"),void history.replaceState({id:"apf_url"},"","?type="+apf_type+"&area_search="+apf_area_search+"&minprice="+apf_minprice+"&maxprice="+apf_maxprice+"&minbeds="+apf_minbeds+"&maxbeds="+apf_maxbeds+"&view="+apf_view+"&order="+apf_order+"&apf_branch="+apf_branch+"&apf_status="+apf_status+"&apf_page="+apf_page+"&apf_search=go");e.hasClass("apf__filter__order")?apf_order=e.val():e.hasClass("apf__filter__branch")?apf_branch=e.val():e.hasClass("apf__status")?a(".apf__filter__status").is(":checked")?(apf_status="",a(".apf__filter__status").removeAttr("checked")):(apf_status="exclude",a(".apf__filter__status").attr("checked","checked")):e.hasClass("apf__paginate")&&(apf_page=e.data("apf-paged"))}apf_page_url=1===apf_page?"/property-search/":"/property-search/page/"+apf_page+"/",a(".apf__load__more__btn").addClass("loading"),a(".apf__properties__loading__overlay").addClass("loading"),a.ajax({url:apf_ajax_object.ajax_url,dataType:"html",type:"POST",cache:!0,data:{action:"apf_ajax",apf_security:apf_ajax_object.ajax_nonce,apf_ajax_check:"true",apf_type_data:apf_type,apf_area_search_data:apf_area_search,apf_minprice_data:apf_minprice,apf_maxprice_data:apf_maxprice,apf_minbeds_data:apf_minbeds,apf_maxbeds_data:apf_maxbeds,apf_view_data:apf_view,apf_order_data:apf_order,apf_branch:apf_branch,apf_status_data:apf_status,apf_page_data:apf_page},success:function(t){history.replaceState({id:"apf_url"},null,apf_page_url+"?type="+apf_type+"&area_search="+apf_area_search+"&minprice="+apf_minprice+"&maxprice="+apf_maxprice+"&minbeds="+apf_minbeds+"&maxbeds="+apf_maxbeds+"&view="+apf_view+"&order="+apf_order+"&apf_branch="+apf_branch+"&apf_status="+apf_status+"&apf_page="+apf_page+"&apf_search=go"),!0===apf_new_request?a(".apf__properties").html('<div class="apf__properties__loading__overlay"><svg width="44" height="44" viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg" stroke="#1c1c31"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"> <animate attributeName="r" begin="0s" dur="1.8s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite" /><animate attributeName="stroke-opacity" begin="0s" dur="1.8s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite" /> </circle><circle cx="22" cy="22" r="1"> <animate attributeName="r" begin="-0.9s" dur="1.8s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite" /><animate attributeName="stroke-opacity" begin="-0.9s" dur="1.8s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite" /> </circle></g></svg><p>Updating</p></div>'+t):a(".apf__properties").append(t),"for-sale"===apf_type?a("label.apf__status").text("Hide Sold, Sold STC & Under Offer"):a("label.apf__status").text("Hide Let, Let Agreed & Under Offer");var o=new Blazy({selector:".blazy"});if(apf_init_map(),a(".apf__load__more__btn").removeClass("loading"),a(".apf__properties__loading__overlay").removeClass("loading"),e.hasClass("apf__paginate")){var p=a(".apf__properties").offset().top;a("html:not(:animated),body:not(:animated)").animate({scrollTop:p-200},700)}else a(".apf__properties article").addClass("in-view")}})}function apf_single_map(){var e=jQuery,a=parseFloat(e("#map_single").data("lat")),t=parseFloat(e("#map_single").data("lng")),o=new google.maps.LatLng(a,t),p={zoom:18,center:o,mapTypeId:google.maps.MapTypeId.ROADMAP,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.LEFT_BOTTOM},panControl:!1,panControlOptions:{position:google.maps.ControlPosition.BOTTOM_RIGHT},mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.BOTTOM_CENTER},streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.LEFT_BOTTOM},scrollwheel:!1,draggable:!0};map=new google.maps.Map(document.getElementById("map_single"),p);var n=new google.maps.MarkerImage(the_hard_men_path+"/modules/advanced-property-framework/img/marker-property.png",null,null,null,new google.maps.Size(50,38)),i=new google.maps.Marker({position:o,map:map,icon:n}),l;google.maps.event.addDomListener(window,"resize",(function(){var e=map.getCenter();google.maps.event.trigger(map,"resize"),map.setCenter(e)})),(new google.maps.TransitLayer).setMap(map)}function apf_update_properties_ajax(){var e=jQuery;e("#apf_update_properties").html('<p>1. Generating import file from Reapit.</p><svg width="44" height="44" viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg" stroke="#b70e0c"> <g fill="none" fill-rule="evenodd" stroke-width="2"> <circle cx="22" cy="22" r="1"> <animate attributeName="r" begin="0s" dur="1.8s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite" /> <animate attributeName="stroke-opacity" begin="0s" dur="1.8s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite" /> </circle> <circle cx="22" cy="22" r="1"> <animate attributeName="r" begin="-0.9s" dur="1.8s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite" /> <animate attributeName="stroke-opacity" begin="-0.9s" dur="1.8s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite" /> </circle></g></svg>'),e.ajax({url:apf_ajax_object.ajax_url,dataType:"html",type:"POST",async:!0,data:{action:"apf_update_properties_ajax",apf_security:apf_ajax_object.ajax_nonce},success:function(a){e("#apf_update_properties").html(a),apf_update_properties_ajax_2()}})}function apf_update_properties_ajax_2(){var e=jQuery;e("#apf_update_properties").append('<p class="apf__update__running">2. Running import.</p><svg width="44" height="44" viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg" stroke="#b70e0c"> <g fill="none" fill-rule="evenodd" stroke-width="2"> <circle cx="22" cy="22" r="1"> <animate attributeName="r" begin="0s" dur="1.8s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite" /> <animate attributeName="stroke-opacity" begin="0s" dur="1.8s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite" /> </circle> <circle cx="22" cy="22" r="1"> <animate attributeName="r" begin="-0.9s" dur="1.8s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite" /> <animate attributeName="stroke-opacity" begin="-0.9s" dur="1.8s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite" /> </circle></g></svg>'),setTimeout((function(){e(".apf__update__running").text("Patience my young padawan. Still running.")}),1e4),setTimeout((function(){e(".apf__update__running").text("Put the kettle on?")}),2e4),setTimeout((function(){e(".apf__update__running").text("(Sip) Aaah much better!")}),3e4),setTimeout((function(){e(".apf__update__running").text("Pub?")}),4e4),setTimeout((function(){e(".apf__update__running").text("Is it Friday yet?")}),5e4),setTimeout((function(){e(".apf__update__running").text("Blimey! I'm just a website and even I am getting bored.")}),6e4),setTimeout((function(){e(".apf__update__running").text("Time to call Alex? He is awesome, he can fix this. Nah it's working, just give it a bit more time.")}),12e4),setTimeout((function(){e(".apf__update__running").text("Alright, maybe call Alex now.")}),6e5),e.ajax({url:apf_ajax_object.ajax_url,dataType:"html",type:"POST",async:!0,data:{action:"apf_update_properties_ajax_2",apf_security:apf_ajax_object.ajax_nonce},success:function(a){e("#apf_update_properties").html(a),e("a.apf__update__trigger").removeClass("disabled").text("Update now")}})}jQuery(document).ready((function(e){apf_init_map(),e(".apf__map__hide").on("click",(function(a){e(this).toggleClass("active"),e(".apf__results").toggleClass("apf__map__hidden")})),e(".apf__switch__view__mobile").on("click",(function(a){a.preventDefault(),e(".apf__results__map__wrap").removeAttr("style"),e(".apf__results__map").toggleClass("apf__results__map__active")}))})),jQuery(document).ready((function(e){if(e(".apf__results__map__wrap").length>0)function a(){var a;if(e(window).width()>960){var t=e(window).scrollTop()+120,o=e(".apf__stick__top"),p=e(".apf__stick__btm"),n=e(".apf__results__map__wrap").outerHeight();if(google.maps.event.trigger(map,"resize"),o.length){var i=o.offset().top,l=p.offset().top-n;t>=i&&t<=l?e(".apf__results__map").addClass("stick").removeClass("bottom").removeAttr("style"):(t<=i&&e(".apf__results__map").removeClass("stick"),t>=l&&e(".apf__results__map").removeClass("stick").addClass("bottom").removeAttr("style"))}}else e(".apf__results__map__wrap").removeClass("stick").removeAttr("style")}}));var sales_label="sales",lettings_label="lettings",sales_prices='<option value="50000">&pound;50,000</option><option value="75000">&pound;75,000</option><option value="100000">&pound;100,000</option><option value="125000">&pound;125,000</option><option value="150000">&pound;150,000</option><option value="175000">&pound;175,000</option><option value="200000">&pound;200,000</option><option value="300000">&pound;300,000</option><option value="400000">&pound;400,000</option><option value="500000">&pound;500,000</option><option value="750000">&pound;750,000</option><option value="1000000">&pound;1,000,000</option><option value="1500000">&pound;1,500,000</option><option value="2000000">&pound;2,000,000</option><option value="2500000">&pound;2,500,000</option><option value="3000000">&pound;3,000,000</option><option value="3500000">&pound;3,500,000</option><option value="4000000">&pound;4,000,000</option><option value="4500000">&pound;4,500,000</option><option value="5000000">&pound;5,000,000</option>',lettings_prices='<option value="100">&pound;100 pcm</option><option value="200">&pound;200 pcm</option><option value="300">&pound;300 pcm</option><option value="400">&pound;400 pcm</option><option value="500">&pound;500 pcm</option><option value="600">&pound;600 pcm</option><option value="700">&pound;700 pcm</option><option value="800">&pound;800 pcm</option><option value="900">&pound;900 pcm</option><option value="1000">&pound;1,000 pcm</option><option value="1250">&pound;1,250 pcm</option><option value="1500">&pound;1,500 pcm</option><option value="1750">&pound;1,750 pcm</option><option value="2000">&pound;2,000 pcm</option><option value="2250">&pound;2,250 pcm</option><option value="2500">&pound;2,500 pcm</option><option value="2750">&pound;2,750 pcm</option><option value="3000">&pound;3,000 pcm</option>';jQuery(document).ready((function(e){e(".apf__checkbox__"+sales_label).attr("checked","checked"),e(".apf__"+sales_label).addClass("checked"),apf_type?"sales"===apf_type?(e(".apf__"+sales_label).addClass("checked"),e(".apf__"+lettings_label).removeClass("checked"),e(".apf__checkbox__"+sales_label).attr("checked","checked"),e(".apf__checkbox__"+lettings_label).removeAttr("checked"),e("select.apf__minprice, select.apf__maxprice").html(sales_prices),e("select.apf__minprice").prepend('<option value="0">Min price</option>'),e("select.apf__maxprice").prepend('<option value="10000000">Max price</option>')):"lettings"===apf_type&&(e(".apf__"+lettings_label).addClass("checked"),e(".apf__"+sales_label).removeClass("checked"),e(".apf__checkbox__"+lettings_label).attr("checked","checked"),e(".apf__checkbox__"+sales_label).removeAttr("checked"),e("select.apf__minprice, select.apf__maxprice").html(lettings_prices),e("select.apf__minprice").prepend('<option value="0">Min price</option>'),e("select.apf__maxprice").prepend('<option value="10000000">Max price</option>')):(e("select.apf__minprice, select.apf__maxprice").html(sales_prices),e("select.apf__minprice").prepend('<option value="0" selected="selected">Min price</option>'),e("select.apf__maxprice").prepend('<option value="10000000" selected="selected">Max price</option>')),apf_area_search&&e("select.apf__select.area option[value='"+apf_area_search+"']").attr("selected","selected"),apf_minprice&&e("select.apf__minprice option[value='"+apf_minprice+"']").attr("selected","selected"),apf_maxprice&&e("select.apf__maxprice option[value='"+apf_maxprice+"']").attr("selected","selected"),apf_minbeds&&e("select.apf__minbeds option[value='"+apf_minbeds+"']").attr("selected","selected"),apf_maxbeds&&e("select.apf__maxbeds option[value='"+apf_maxbeds+"']").attr("selected","selected"),apf_area_search&&""!==apf_area_search&&e(".area-register").attr("placeholder","Area, postcode, town, street"),e(".apf__"+sales_label).click((function(a){a.preventDefault(),e(this).addClass("checked"),e(".apf__"+lettings_label).removeClass("checked"),e(".apf__checkbox__"+sales_label).attr("checked","checked"),e(".apf__checkbox__"+lettings_label).removeAttr("checked"),e("select.apf__minprice, select.apf__maxprice").html(sales_prices),e("select.apf__minprice").prepend('<option value="0" selected="selected">Min price</option>'),e("select.apf__maxprice").prepend('<option value="10000000" selected="selected">Max price</option>'),e('select.apf__minbeds option[value="0"]').attr("selected","selected"),e('select.apf__maxbeds option[value="100"]').attr("selected","selected")})),e(".apf__"+lettings_label).click((function(a){a.preventDefault(),e(this).addClass("checked"),e(".apf__"+sales_label).removeClass("checked"),e(".apf__checkbox__"+lettings_label).attr("checked","checked"),e(".apf__checkbox__"+sales_label).removeAttr("checked"),e("select.apf__minprice, select.apf__maxprice").html(lettings_prices),e("select.apf__minprice").prepend('<option value="0" selected="selected">Min price</option>'),e("select.apf__maxprice").prepend('<option value="10000000" selected="selected">Max price</option>'),e('select.apf__minbeds option[value="0"]').attr("selected","selected"),e('select.apf__maxbeds option[value="100"]').attr("selected","selected")}))})),jQuery(document).ready((function(e){"list"===apf_view?(e(".apf__filter__list").addClass("active"),e(".apf__filter__grid").removeClass("active")):(e(".apf__filter__list").removeClass("active"),e(".apf__filter__grid").addClass("active")),e(".apf__filter__refine, .apf__single__property__nav__refine").click((function(a){a.preventDefault(),e(this).toggleClass("active"),e(".apf__search").toggleClass("show")}))}));var apf_page_url="";jQuery(document).ready((function(e){jQuery(document).on("click",".apf__ajax__trigger",(function(a){a.preventDefault(),clicked_element=e(this),apf_ajax(clicked_element)})),e(".apf__filter__order").change((function(){clicked_element=e(this),apf_ajax(clicked_element)})),e(".apf__filter__branch").change((function(){clicked_element=e(this),apf_ajax(clicked_element)})),"list"===apf_view&&(e(".apf__properties").addClass("list"),e(".apf__filter__list").addClass("active"),e(".apf__filter__grid").removeClass("active"))})),jQuery(document).ready((function(e){var a=new URLSearchParams(location.search),t;e(".apf__book__viewing__button").click((function(a){a.preventDefault(),e(".apf__book__viewing__form.view").addClass("open"),e("body").addClass("no__scroll")})),e(".apf__book__viewing.close").click((function(a){a.preventDefault(),e(".apf__book__viewing__form").removeClass("open"),e("body").removeClass("no__scroll")})),"true"==a.get("book")&&e(".apf__book__viewing__button").trigger("click")})),jQuery(document).ready((function(e){if(e("#map_single").length>0)var a=new Blazy({selector:"#map_single",success:function(e){apf_single_map()}})})),jQuery(document).ready((function(e){jQuery(document).on("click",".apf__update__trigger",(function(a){a.preventDefault(),e(this).addClass("disabled").text("Updating"),apf_update_properties_ajax()}))})),function(e,a,t){function o(){var a;return 1===e("#apf_branches_map").length}function p(){if(o()){var a=new google.maps.LatLng(50.694593,-1.302594),t=new google.maps.Map(document.getElementById("apf_branches_map"),{center:a,zoom:11,mapTypeId:"roadmap",mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.CENTER_BOTTOM},zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.TOP_LEFT},streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.TOP_LEFT},scrollwheel:!1}),p,n=[],i=new google.maps.InfoWindow,l=new google.maps.LatLngBounds,s=new google.maps.MarkerImage(apf_ajax_object.apf_path+"img/marker-property.png",null,null,null,new google.maps.Size(50,38)),r=new google.maps.MarkerImage(apf_ajax_object.apf_path+"img/marker-property-hover.png",null,null,null,new google.maps.Size(60,46)),_,c;function d(a,o,p,i){var l=p,_=new google.maps.Marker({position:a,icon:s,map:t,title:o});_.myname=o,_.myicon=i,n.push(_),google.maps.event.addListener(_,"click",(function(){for(var a=0;a<n.length;a++)n[a].setIcon(s);_.setIcon(r),e("#infowindow").addClass("open"),e("#infowindow").removeClass("closed empty"),e("#infowindow").empty(),e("#infowindow").append(p)}))}downloadUrl(apf_ajax_object.apf_branches_map_url,(function(e){for(var a,o=xmlParse(e).documentElement.getElementsByTagName("marker"),p=0;p<o.length;p++){var n=parseFloat(o[p].getAttribute("lat")),i=parseFloat(o[p].getAttribute("lng")),s=new google.maps.LatLng(n,i),r=o[p].getAttribute("permalink"),_=o[p].getAttribute("name"),c=o[p].getAttribute("address"),f,m,u=d(s,_,'<div class="infowindow"><div class="infowindow__img"><a href="#" title="Close" class="infowindow-close"><i class="fal fa-times"></i></a><a href="'+r+'" title="Click for full details on '+_+'"><img src="'+o[p].getAttribute("image")+'" alt="'+_+'"></a></div><div class="infowindow__content"><h5>'+_+"</h5>"+(""!==c?"<p>"+c.replace(/,/g,"<br>")+"</p>":"")+'<p class="infowindow__content__name-mobile">'+_+'</p><a href="'+r+'" title="Click for full details on '+_+'" class="infowindow__fom">Full details</a></div></div>');l.extend(s)}t.fitBounds(l)})),google.maps.event.addDomListener(window,"resize",(function(){var e=t.getCenter();google.maps.event.trigger(t,"resize"),t.setCenter(e)})),google.maps.event.addListener(t,"click",(function(){for(var a=0;a<n.length;a++)n[a].setIcon(s);e("#infowindow").empty(),e("#infowindow").append('<p class="empty-text">Tap on a property to preview its details.</p>'),e("#infowindow").removeClass("open"),e("#infowindow").addClass("closed empty")})),e("#infowindow").on("click","a.infowindow-close",(function(a){a.preventDefault();for(var t=0;t<n.length;t++)n[t].setIcon(s);e("#infowindow").empty(),e("#infowindow").append('<p class="empty-text">Tap on a property to preview its details.</p>'),e("#infowindow").removeClass("open"),e("#infowindow").addClass("closed empty")})),(new google.maps.TransitLayer).setMap(t),e(window).width()<900&&t.setOptions({mapTypeControl:!1,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.RIGHT_TOP},streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP}})}}e(window).on("load",(function(){o()&&(p(),e(".apf__map__hide").on("click",(function(a){e(this).toggleClass("active"),e(".apf__results").toggleClass("apf__map__hidden")})),e(".apf__switch__view__mobile").on("click",(function(a){a.preventDefault(),e(".apf__results__map__wrap").removeAttr("style"),e(".apf__results__map").toggleClass("apf__results__map__active")})))}))}(jQuery,this),jQuery(document).ready((function(e){var a=new Blazy({selector:".blazy"});e(".property__gallery").lightSlider({item:1,loop:!1,easing:"cubic-bezier(0.25, 0, 0.25, 1)",enableDrag:!1,gallery:!0,thumbItem:6,slideMargin:0,onSliderLoad:function(e){e.lightGallery({selector:".property__gallery .property__gallery__slide",download:!1,hash:!1})}}),e(".property__gallery__all").lightGallery({hash:!1,selector:".property__gallery__all li",fullScreen:!1,download:!1})}));